# player サブモジュール

## 概要

プレイヤーの移動・回転・衝突判定を担当するサブモジュール。
WASD キーによる前後左右の移動、矢印キーによる視点回転、壁との衝突判定を実装。

## 機能

- **移動処理**
  - 前進/後退（W/S キー）
  - 左右移動/ストレイフ（A/D キー）
  - 移動速度: `MOVE_SPEED = 0.1`
  - **スマート壁スライディング**:
    - 垂直な壁衝突では停止
    - 斜めの壁衝突では壁沿いにスライド
    - 後方への移動を防止

- **回転処理**
  - 左右回転（左右矢印キー）
  - 回転行列による方向ベクトルとカメラ平面の変換
  - 回転速度: `ROT_SPEED = 0.05` (約2.86度)

- **衝突判定**
  - マップ範囲外チェック
  - 壁（`world_map[y][x] != 0`）チェック
  - バウンディングボックス4コーナーチェック
  - 衝突マージン: `COLLISION_MARGIN = 0.2`

## 実装状況

- ✅ 移動処理（前後左右）
- ✅ 回転処理（左右）
- ✅ 衝突判定（壁チェック）
- ✅ Norminette 準拠
- ✅ 動作確認済み

## ファイル

```
srcs/engine/player/
├── player_movement.c   # 移動処理
└── player_rotation.c   # 回転処理

includes/engine/
└── player.h            # 関数プロトタイプ
```

## 参照

- [詳細設計](./design.md)
- [engine モジュール](../README.md)